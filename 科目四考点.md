 ​​UML图核心考点总结​​
​​一、用例图（Use Case Diagram）考点​​
​​1. 四种关系辨析​​
关系类型
表示法
考点说明
经典示例
​​关联关系​​
———
参与者与用例之间的基本关系
[顾客] ——— (下单)
​​包含关系​​
———>《include》
​​必须执行​​的关系，基础用例依赖被包含用例
(下单) ———>《include》 (验证库存)
不下单也要验证库存？不可能！
​​扩展关系​​
———>《extend》
​​有条件执行​​的关系，基础用例独立存在
(支付) ———>《extend》 (使用优惠券)
支付可以不使用优惠券
​​泛化关系​​
——▷
​​父子继承​​关系，子用例继承父用例所有行为
(支付) ◁—— (信用卡支付)
(支付) ◁—— (支付宝支付)
​​2. 易错点​​
​​包含vs扩展​​：包含是​​必须的​​，扩展是​​可选的​​
​​参与者泛化​​：[VIP用户] ——▷ [普通用户]，VIP用户具备普通用户所有功能
​​二、类图（Class Diagram）考点精华​​
​​1. 六种关系深度解析​​
​​(1) 依赖关系（Dependency）​​ -------→
​​语义​​：​​临时性的使用​​，方法参数、局部变量、静态方法调用
​​代码表现​
​
class Teacher {
    public void correctHomework(Homework homework) { // 方法参数
        Pen pen = new Pen(); // 局部变量
        pen.grade(homework);
    }
}
class Homework { }
class Pen { }


​​UML​​：Teacher -------→ Homework，Teacher -------→ Pen
​​(2) 关联关系（Association）​​ ————→
​​语义​​：​​长期持有的引用​​，成员变量级别的关系
​​代码表现​​

class Student {
    private School school; // 成员变量，长期存在
    private List<Course> courses; // 1对多关联
}
class School { }
class Course { }


​​UML​​：Student ————→ School，Student ————→ Course
​​多重性​​：1(1个)，*(多个)，0..1(0或1个)，1..*(至少1个)
​​(3) 聚合关系（Aggregation）​​ ————◊
​​语义​​：​​整体与部分可分离​​，部分可以独立于整体存在
​​经典示例​​

class Computer {
    private List<USBDevice> usbDevices; // U盘可以插到不同电脑
}
class USBDevice { }


​​UML​​：Computer ◊————→ USBDevice
​​记忆口诀​​：​​弱拥有​​，部分生命周期独立
​​(4) 组合关系（Composition）​​ ————◆
​​语义​​：​​整体与部分同生共死​​，部分不能独立于整体存在
​​经典示例​​

class House {
    private Room livingRoom;  // 房间不能脱离房子存在
    private Room bedroom;
    public House() {
        this.livingRoom = new Room(); // 同时创建
        this.bedroom = new Room();
    }
}
class Room { }


​​UML​​：House ◆————→ Room
​​记忆口诀​​：​​强拥有​​，同生共死
​​(5) 泛化关系（Generalization）​​ ————▷
​​语义​​：​​继承关系​​，is-a关系
​​代码表现​​

class Animal { }
class Dog extends Animal { } // Dog is a Animal
class Cat extends Animal { } // Cat is a Animal


​​UML​​：Dog ————▷ Animal，Cat ————▷ Animal
​​(6) 实现关系（Realization）​​ - - - -▷
​​语义​​：​​接口实现​​
​​代码表现​​

interface Flyable { void fly(); }
class Bird implements Flyable { public void fly() { } }
class Airplane implements Flyable { public void fly() { } }


​​UML​​：Bird - - - -▷ Flyable，Airplane - - - -▷ Flyable
​​2. 关系强度对比（考点！）​​
​​依赖 < 关联 < 聚合 < 组合​<泛化=实现​
关系
生命周期依赖
代码表现
依赖
无
方法内部临时使用
关联
无
成员变量引用
聚合
弱
成员变量，可独立存在
组合
强
成员变量，同生共死
​​3. 易混淆关系辨析​​
​​聚合vs组合​​：
​​聚合​​场景​​：
一个汽车制造厂（CarFactory）使用引擎（Engine）来组装汽车（Car）。引擎由专门的引擎工厂（EngineFactory）生产。
​
// 引擎类
class Engine {
    private String model;
    public Engine(String model) { this.model = model; }
}

// 汽车类
class Car {
    private String name;
    private Engine engine; // 汽车拥有一个引擎（聚合关系）

    // 关键点：引擎是从外部传入的，不是由汽车创建的
    public Car(String name, Engine engine) {
        this.name = name;
        this.engine = engine; // 组装现有的引擎
    }
}

// 使用场景
public class Main {
    public static void main(String[] args) {
        // 1. 先独立创建引擎
        Engine v8Engine = new Engine("V8");
        
        // 2. 将已有的引擎安装到汽车上
        Car car1 = new Car("宝马", v8Engine);
        
        // 3. 同一个引擎可以被安装到另一辆汽车上（理论上）
        // Car car2 = new Car("奥迪", v8Engine); 
        
        // 4. 汽车报废时，引擎可以被拆下继续使用
        car1 = null; // 汽车销毁
        // 但 v8Engine 对象仍然存在，可以被其他汽车使用
    }
}
 
 
​
UML表示​​：Car ◊————→ Engine
​​关系特点​​：
部分（Engine）的生命周期独立于整体（Car）
整体通过参数接收部分对象（外部创建）
部分可以被多个整体共享（理论上）
​​组合​场景：​一个公司（Company）由多个部门（Department）组成。部门不能独立于公司存在。
// 部门类
class Department {
    private String name;
    public Department(String name) { this.name = name; }
}

// 公司类
class Company {
    private String name;
    private Department hrDepartment;     // 人力资源部
    private Department itDepartment;     // 技术部

    // 关键点：部门是在公司构造函数内部创建的
    public Company(String name) {
        this.name = name;
        // 公司创建时，同时创建所属的部门
        this.hrDepartment = new Department("人力资源部");
        this.itDepartment = new Department("信息技术部");
    }

    // 当公司解散时，部门也随之解散
    public void bankrupt() {
        // 清理部门资源
        this.hrDepartment = null;
        this.itDepartment = null;
    }
}

// 使用场景
public class Main {
    public static void main(String[] args) {
        // 创建公司时，自动创建其部门
        Company company = new Company("阿里巴巴");
        
        // 无法独立创建"阿里巴巴的人力资源部"
        // Department hr = new Department("人力资源部"); // 这个部门不属于任何公司
        
        // 当公司解散时，部门自动解散
        company.bankrupt();
        // 对应的 hrDepartment 和 itDepartment 也随之失效
    }
}
 
 
​​UML表示​​：Company ◆————→ Department
​​关系特点​​：
部分（Department）的生命周期完全依赖于整体（Company）
整体负责创建部分对象（内部创建）
部分专属于特定的整体，不能共享
​
​​依赖vs关联​​：
​​依赖​​：teacher.correctHomework(homework)（临时参数）
​​关联​​：student.school（长期持有）
​
三、活动图（Activity Diagram）​​
​​1. 定义与目的​​
​​定义​​：描述业务过程或操作的工作步骤，类似于流程图
​​目的​​：建模业务流程、用例的具体实现、复杂算法
​​2. 核心元素​​
元素
表示法
说明
开始节点
●
流程的开始
活动节点
圆角矩形
执行的具体活动
控制流
箭头
活动之间的转移
决策节点
菱形
条件分支判断
合并节点
菱形
分支合并
分叉/汇合
粗黑线
并行活动的开始/结束
结束节点
◎
流程的结束
​​3. 绘制步骤​​
​​确定起止点​​：标识流程的开始和结束
​​列出活动​​：按顺序列出所有活动节点
​​添加分支​​：识别决策点和并行活动
​​连接流程​​：用控制流连接所有元素
​​4. 最佳实践​​
每个活动应该有明确的输入输出
避免过于复杂的嵌套判断
并行活动要明确分叉和汇合点
保持主要流程在中心线上
​​5. 典型示例​​

开始 → 登录系统 → [验证成功?] → 是 → 进入主页 → 结束
                    ↓
                    否 → 显示错误 → 返回登录


​​四、顺序图（Sequence Diagram）​​
​​1. 定义与目的​​
​​定义​​：显示对象之间动态的协作关系，强调时间顺序
​​目的​​：描述用例的详细实现，分析对象间的消息传递
​​2. 核心元素​​
元素
表示法
说明
对象生命线
矩形+虚线
对象的生存周期
激活条
细长矩形
对象执行操作的时间段
同步消息
实线箭头
等待返回的调用
异步消息
虚线箭头
不等待返回的调用
返回消息
虚线箭头
方法调用的返回
创建/销毁
箭头+×
对象的创建和销毁
​​3. 绘制步骤​​
​​识别参与对象​​：确定交互中的所有对象
​​排列对象​​：按交互顺序从左到右排列
​​绘制消息​​：按时间顺序从上到下添加消息
​​添加激活期​​：标识方法的执行时间段
​​处理循环/条件​​：使用组合片段表示复杂逻辑
​​4. 最佳实践​​
重要对象放在左侧
保持消息的合理粒度
使用组合片段处理分支循环
关注核心业务流，避免细节过度
​​5. 典型示例​​

用户 → 控制器: 提交订单()
控制器 → 服务层: 验证订单()
服务层 → DAO: 保存订单()
DAO → 数据库: insert操作
数据库 → DAO: 返回结果
DAO → 服务层: 返回成功
服务层 → 控制器: 返回订单ID
控制器 → 用户: 显示成功页面


​​五、状态图（State Diagram）​​
​​1. 定义与目的​​
​​定义​​：描述对象所有可能的状态以及事件发生时状态的转移条件
​​目的​​：建模具有明确状态变化的复杂对象行为
​​2. 核心元素​​
元素
表示法
说明
状态
圆角矩形
对象在生命周期中的状况
转移
箭头
状态之间的转换
初始状态
●
状态的起点
终止状态
◎
状态的终点
事件
箭头标签
触发转移的条件
动作
状态内部
状态进入/退出时执行的操作
​​3. 绘制步骤​​
​​识别状态​​：找出对象的所有可能状态
​​确定初始/终止状态​​：标识开始和结束状态
​​识别转移​​：分析状态之间如何转换
​​定义事件​​：确定触发转移的事件和条件
​​添加动作​​：定义进入/退出状态时的操作
​​4. 最佳实践​​
状态命名使用形容词或过去分词
避免状态爆炸，适当抽象
明确每个转移的触发条件
关注重要的状态变化
​​5. 典型示例​​

订单状态图：
[初始] → 待支付 --支付成功→ 已支付 --发货→ 已发货 --确认收货→ 已完成
                  ↓                     ↓
                  取消                 退款申请
                  ↓                     ↓
                已取消                退款中 --退款完成→ 已关闭


📊 ​​各UML图适用场景总结​​
UML图类型
主要用途
使用阶段
​​用例图​​
需求分析，功能规划
需求阶段
​​类图​​
系统静态结构设计
设计阶段
​​活动图​​
业务流程建模
分析/设计阶段
​​顺序图​​
对象交互时序分析
设计阶段
​​状态图​​
复杂对象行为建模
设计阶段
